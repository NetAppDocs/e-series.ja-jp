---
permalink: maintenance-e4000/replace-dimms-e4000.html 
sidebar: sidebar 
keywords:  
summary:  
---
= DIMMを交換してください- E4000
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
メモリが一致しない場合やDIMMに障害が発生した場合は、E4000のDIMMを交換できます。

.作業を開始する前に
* 使用中のボリュームがないこと、またはボリュームを使用しているすべてのホストにマルチパスドライバがインストールされていることを確認してください。
* 次のものがあることを確認します。
+
** 交換用 DIMM 。
** ESD リストバンドを装着するか、静電気防止処置を施しておきます。
** 静電気防止処置を施した平らな作業場所。
** コントローラキャニスターに接続する各ケーブルを識別するためのラベル。
** コントローラの SANtricity System Manager にアクセスできるブラウザを備えた管理ステーション。（System Managerインターフェイスを開くには、コントローラのドメイン名またはIPアドレスをブラウザで指定します）。






== 手順 1 ： DIMM の交換が必要かどうかを確認します

DIMM を交換する前に、コントローラのキャッシュサイズを確認してください。

.手順
. コントローラのストレージアレイプロファイルにアクセスします。SANtricityシステムマネージャから、*サポート*›*サポートセンター*にアクセスします。サポートリソースページで、 * ストレージアレイプロファイル * を選択します。
. 下にスクロールするか、検索フィールドを使用して、 * データキャッシュモジュール * 情報を検索します。
. 次のいずれかがある場合は、DIMMの場所をメモし、このセクションの以降の手順を実行してコントローラのDIMMを交換します。
+
.. 故障した DIMM 、または * データキャッシュモジュール * を報告している DIMM が最適ではありません。
.. 容量が一致しない * データキャッシュモジュール * の DIMM 。






== 手順2：DIMMを交換する準備

DIMMを交換する準備として、ドライブセキュリティキーを保存し、構成をバックアップし、サポートデータを収集します。その後、ホストI/O処理を停止して、コントローラをオフラインにするか電源をオフにすることができます。

[role="tabbed-block"]
====
.コントローラシェルフの電源をオフにする（シンプレックス）
--
シンプレックス構成では、DIMMを安全に取り外して交換できるように、コントローラシェルフの電源をオフにします。

.手順
. SANtricity System Managerを使用してストレージアレイの構成データベースをバックアップします。
+
コントローラを取り外すときに問題が発生した場合は、保存したファイルを使用して構成をリストアできます。RAID 構成データベースの現在の状態が保存されます。これには、コントローラ上のボリュームグループとディスクプールのすべてのデータが含まれます。

+
** System Manager から：
+
... *サポート›サポートセンター›診断*を選択します。
... [ 構成データの収集 *] を選択します。
... [*Collect*]( 収集 ) をクリックします
+
ブラウザの Downloads フォルダに、「 * configurationdata-<ArrayName>-<dateTime >.7z * 」という名前でファイルが保存されます。



** または、次の CLI コマンドを使用して構成データベースをバックアップすることもできます。
+
'ave storageArray dbmDatabase sourceLocation=onboard contentType=all file="filename";`



. SANtricity システムマネージャを使用してストレージアレイのサポートデータを収集します。
+
コントローラの取り外し時に問題が発生した場合は、保存したファイルを使用して問題のトラブルシューティングを行うことができます。ストレージアレイに関するインベントリ、ステータス、およびパフォーマンスデータが 1 つのファイルに保存されます。

+
.. *サポート›サポートセンター›診断*を選択します。
.. 「サポートデータの収集」を選択します。
.. [*Collect*]( 収集 ) をクリックします
+
ブラウザの Downloads フォルダに、「 * support-data.7z * 」という名前でファイルが保存されます。



. ストレージアレイと接続されているすべてのホストの間で I/O 処理が発生しないようにします。たとえば、次の手順を実行します。
+
.. ストレージからホストにマッピングされた LUN に関連するすべてのプロセスを停止します。
.. ストレージからホストにマッピングされた LUN にアプリケーションがデータを書き込んでいないことを確認します。
.. アレイのボリュームに関連付けられているファイルシステムをすべてアンマウントします。
+

NOTE: ホスト I/O 処理を停止する具体的な手順はホストオペレーティングシステムや構成によって異なり、ここでは説明していません。環境内でホスト I/O 処理を停止する方法がわからない場合は、ホストをシャットダウンすることを検討してください。

+

CAUTION: *データ損失の可能性*-- I/O処理の実行中にこの手順を続行すると、データが失われる可能性があります。



. キャッシュメモリ内のデータがドライブに書き込まれるまで待ちます。
+
キャッシュされたデータをドライブに書き込む必要がある場合は、コントローラの背面にある緑のキャッシュアクティブ LED が点灯します。この LED が消灯するまで待つ必要があります。

. SANtricity システムマネージャのホームページで、「 * 進行中の処理を表示」を選択します。
. すべての処理が完了したことを確認してから、次の手順に進みます。
. コントローラシェルフの両方の電源スイッチをオフにします。
. コントローラシェルフのすべての LED が消灯するまで待ちます。


--
.コントローラをオフラインにする（デュプレックス）
--
デュプレックス構成では、DIMMを安全に取り外して交換できるように、コントローラをオフラインにします。

.手順
. SANtricity System Manager の Recovery Guru で詳細を確認し、メモリが一致していない問題が報告されていること、および先に対処する必要がある項目がほかにないことを確認します。
. Recovery Guru の詳細領域で、交換する DIMM を特定します。
. SANtricity System Managerを使用してストレージアレイの構成データベースをバックアップします。
+
コントローラを取り外すときに問題が発生した場合は、保存したファイルを使用して構成をリストアできます。RAID 構成データベースの現在の状態が保存されます。これには、コントローラ上のボリュームグループとディスクプールのすべてのデータが含まれます。

+
** System Manager から：
+
... *サポート›サポートセンター›診断*を選択します。
... [ 構成データの収集 *] を選択します。
... [*Collect*]( 収集 ) をクリックします
+
ブラウザのDownloadsフォルダに、*configurationdata-<arrayName>-<dateTime>.7z*という名前でファイルが保存されます。





. コントローラがオフラインでない場合は、 SANtricity System Manager を使用してオフラインにします。
+
.. 「 * ハードウェア * 」を選択します。
.. 図にドライブが表示されている場合は、 * Show back of shelf * を選択してコントローラを表示します。
.. オフラインに切り替えるコントローラを選択します。
.. コンテキストメニューから * オフラインに切り替え * を選択し、操作を確定します。
+

NOTE: オフラインにするコントローラを使用して SANtricity System Manager にアクセスしている場合は、「 SANtricity System Manager を利用できません」というメッセージが表示されます。別のコントローラを使用して SANtricity System Manager に自動的にアクセスするには、 * 代替ネットワーク接続に接続する * を選択します。



. SANtricity System Managerでコントローラのステータスがオフラインに更新されるまで待ちます。
+

NOTE: ステータスの更新が完了するまでは、他の処理を開始しないでください。

. Recovery Guru で「 * 再確認」を選択し、詳細領域の「削除してもよろしいですか」フィールドに「はい」と表示されていることを確認します。このコンポーネントを削除しても安全であることを示します。


--
====


== 手順 3 ：コントローラキャニスターを取り外す

コントローラキャニスターをシステムから取り外し、コントローラキャニスターカバーを取り外します。

.手順
. まだ接地していない場合は、自分で適切に接地してください。
. ケーブルマネジメントデバイスに接続しているケーブルをまとめているフックとループストラップを緩め、システムケーブルとSFPをコントローラキャニスターから外し（必要な場合）、どのケーブルがどこに接続されていたかを記録します。
+
ケーブルはケーブルマネジメントデバイスに入れたままにしておきます。これは、ケーブルマネジメントデバイスを取り付け直すときにケーブルが整理されるようにするためです。

. ケーブルマネジメントデバイスをコントローラキャニスターの左右から取り外し、脇に置きます。
. カムハンドルのラッチを外れるまで押し、カムハンドルをいっぱいまで開いてコントローラキャニスターをミッドプレーンから外し、両手でコントローラキャニスターをシャーシから引き出します。
. コントローラの背面にあるキャッシュアクティブ LED が消灯していることを確認します。
. コントローラキャニスターを裏返し、平らで安定した場所に置きます。
. コントローラキャニスターの側面にある青いボタンを押してカバーを開き、カバーを上に回転させてコントローラキャニスターから取り外します。
+
image::../media/drw_E4000_open_controller_module_cover_IEOPS-870.png[コントローラキャニスターのカバーを開きます。]





== 手順4：DIMMを交換する

コントローラ内部のDIMMの場所を確認して取り外し、交換します。

.手順
. まだ接地していない場合は、自分で適切に接地してください。
. コントローラキャニスターでDIMMの場所を確認します。
. 交換用DIMMを正しい向きで挿入できるように、ソケット内のDIMMの向きと位置をメモします。
. DIMMの両側にある2つのツメをゆっくり押し開いてDIMMをスロットから外し、そのままスライドさせてスロットから取り出します。
+
DIMMが少し上に回転します。

. DIMMを所定の位置まで回転させ、ソケットから引き出します。
+

NOTE: DIMM 回路基板のコンポーネントに力が加わらないように、 DIMM の両端を慎重に持ちます。

+
image::../media/drw_E4000_replace_dimms_IEOPS-865.png[DIMMを取り外します。]

+
|===


 a| 
image::../media/legend_icon_01.png[1つのアイコン]
| DIMMのツメ 


 a| 
image::../media/legend_icon_02.png[2つのアイコン]
| DIMM 
|===
. 交換用DIMMを静電気防止用の梱包バッグから取り出し、DIMMの両端を持ってスロットに合わせます。
+
DIMM のピンの間にある切り欠きを、ソケットの突起と揃える必要があります。

. DIMM をスロットに対して垂直に挿入します。
+
DIMM のスロットへの挿入にはある程度の力が必要です。簡単に挿入できない場合は、 DIMM をスロットに正しく合わせてから再度挿入してください。

+

NOTE: DIMM がスロットにまっすぐ差し込まれていることを目で確認してください。

. DIMM の両端のノッチにツメがかかるまで、 DIMM の上部を慎重にしっかり押し込みます。
. コントローラキャニスターのカバーを再度取り付けます。




== 手順5：コントローラキャニスターを再度取り付ける

コントローラキャニスターをシャーシに再度取り付けます。

.手順
. まだ接地していない場合は、自分で適切に接地してください。
. コントローラキャニスターのカバーを取り付けます（まだ取り付けていない場合）。
. 取り外し可能なカバーが下になるようにコントローラを裏返します。
. カムハンドルを開いた状態で、コントローラをスライドしてシェルフに最後まで押し込みます。
. ケーブルを交換します。
+

NOTE: 光ファイバケーブルを使用する場合は、メディアコンバータ（QSFPまたはSFP）を取り外したあとに再度取り付けてください。

. フックとループストラップを使用して、ケーブルをケーブルマネジメントデバイスにバインドします。




== 手順6：DIMM交換後の処理

[role="tabbed-block"]
====
.コントローラの電源をオンにする（シンプレックス）
--
コントローラをオンラインにし、サポートデータを収集し、運用を再開します。

.手順
. コントローラのブート時に、コントローラの LED を確認します。
+
もう一方のコントローラとの通信が再確立されると次のような状態

+
** 黄色の警告 LED が点灯した状態になります。
** ホストリンク LED は、ホストインターフェイスに応じて、点灯、点滅、消灯のいずれかになります。


. コントローラがオンラインに戻ったら、ステータスが「最適」になっていることを確認し、コントローラシェルフの警告LEDを確認します。
+
ステータスが「最適」でない場合やいずれかの警告LEDが点灯している場合は、すべてのケーブルが正しく装着され、コントローラキャニスターが正しく取り付けられていることを確認します。必要に応じて、コントローラキャニスターを取り外して再度取り付けます。注：問題が解決しない場合は、テクニカルサポートにお問い合わせください。

. SANtricity システムマネージャを使用してストレージアレイのサポートデータを収集します。
+
.. *サポート›サポートセンター›診断*を選択します。
.. 「サポートデータの収集」を選択します。
.. [*Collect*]( 収集 ) をクリックします
+
ブラウザの Downloads フォルダに、「 * support-data.7z * 」という名前でファイルが保存されます。





--
.コントローラをオンラインにする（デュプレックス）
--
コントローラをオンラインにし、サポートデータを収集し、運用を再開します。

.手順
. コントローラをオンラインにします。
+
.. System Manager で、ハードウェアページに移動します。
.. [コントローラとコンポーネント]*を選択します。
.. DIMM を交換したコントローラを選択します。
.. ドロップダウンリストから「オンラインにする」 * を選択します。


. コントローラのブート時に、コントローラの LED を確認します。
+
もう一方のコントローラとの通信が再確立されると次のような状態

+
** 黄色の警告 LED が点灯した状態になります。
** ホストリンク LED は、ホストインターフェイスに応じて、点灯、点滅、消灯のいずれかになります。


. コントローラがオンラインに戻ったら、ステータスが「最適」になっていることを確認し、コントローラシェルフの警告LEDを確認します。
+
ステータスが「最適」でない場合やいずれかの警告LEDが点灯している場合は、すべてのケーブルが正しく装着され、コントローラキャニスターが正しく取り付けられていることを確認します。必要に応じて、コントローラキャニスターを取り外して再度取り付けます。注：問題が解決しない場合は、テクニカルサポートにお問い合わせください。

. すべてのボリュームが優先所有者に戻っていることを確認します。
+
.. [ストレージ]>[ボリューム]*を選択します。[ * すべてのボリューム * ] ページで、ボリュームが優先所有者に配布されていることを確認します。ボリューム所有者を表示するには、[その他]>[所有権の変更]*を選択します。
.. すべてのボリュームが優先所有者に所有されている場合は、手順 6 に進みます。
.. いずれのボリュームも戻っていない場合は、手動でボリュームを戻す必要があります。詳細›ボリュームの再配置*に進みます。
.. Recovery Guru がない場合、または Recovery Guru の手順に従ってもボリュームが優先所有者に戻らない場合は、サポートに問い合わせてください。


. SANtricity システムマネージャを使用してストレージアレイのサポートデータを収集します。
+
.. *サポート›サポートセンター›診断*を選択します。
.. 「サポートデータの収集」を選択します。
.. [*Collect*]( 収集 ) をクリックします
+
ブラウザの Downloads フォルダに、「 * support-data.7z * 」という名前でファイルが保存されます。





--
====